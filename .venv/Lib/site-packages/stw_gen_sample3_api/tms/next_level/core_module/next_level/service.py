from dataclasses import dataclass

from stw_py_api_runtime.gen_classes.gen_device import GenTm
from stw_py_api_runtime.sdk.brokers.broker_api import BrokerAPI, TmCatcherAPI
from stw_py_api_runtime.sdk.brokers.message import DeviceAddress
from .service_module.next_level import mram
from .service_module.next_level import checksum


class Tm(GenTm):
    def __init__(self, device_address: DeviceAddress, broker: BrokerAPI, pygen_device):
        """Конструктор модуля телеметрии."""
        self.mram: mram.Tm = mram.Tm(device_address, broker, pygen_device)
        self.checksum: checksum.Tm = checksum.Tm(device_address, broker, pygen_device)

