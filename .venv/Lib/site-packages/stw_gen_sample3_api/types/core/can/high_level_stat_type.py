from dataclasses import dataclass
from typing import TypedDict, Union

from stw_gen_sample3_api.basic_types import *
from stw_py_api_runtime.gen_classes.telemetry.parse import Message as _Message




@dataclass
class HighLevelStat(_Message):

    # Количество неотправленных CAN-сообщений
    unsentFrames: uint32_t
    # Количество несобранных Timbrel сообщений
    unexpectedFrames: uint32_t
    # Количество сообщений с неправильным DLC или CRC
    corruptedMsgs: uint32_t
    # Количество сообщений, не поместившихся в буфер приёма
    notEnoughMemoryMsg: uint32_t
    # Количество сообщений, не отправленных из-за отсутствия свободных mailbox
    abortedQueueFrames: uint32_t


class HighLevelStatDict(TypedDict):

    # Количество неотправленных CAN-сообщений
    unsentFrames: Union[uint32_t, int ]

    # Количество несобранных Timbrel сообщений
    unexpectedFrames: Union[uint32_t, int ]

    # Количество сообщений с неправильным DLC или CRC
    corruptedMsgs: Union[uint32_t, int ]

    # Количество сообщений, не поместившихся в буфер приёма
    notEnoughMemoryMsg: Union[uint32_t, int ]

    # Количество сообщений, не отправленных из-за отсутствия свободных mailbox
    abortedQueueFrames: Union[uint32_t, int ]

