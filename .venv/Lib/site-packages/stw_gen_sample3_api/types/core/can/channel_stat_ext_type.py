from dataclasses import dataclass
from typing import TypedDict, Union

from stw_gen_sample3_api.basic_types import *
from stw_py_api_runtime.gen_classes.telemetry.parse import Message as _Message




@dataclass
class ChannelStatExt(_Message):

    # Количество принятых Timbrel сообщений
    receivedMessagesAmount: uint32_t
    # Количество отправленных Timbrel сообщений
    sentMessagesAmount: uint32_t
    # Количество потерянных сообщений из-за переполнения очереди
    lostMessagesAmount: uint16_t
    # Количество сообщений некорректного размера согласно протоколу Timbrel
    tooBigMessagesAmount: uint16_t
    # Количество ошибок при отправке
    sendingErrors: uint16_t
    # Максимальное количество CAN фреймов в рамках одной отправки
    maxSlicedFramesLoad: uint16_t


class ChannelStatExtDict(TypedDict):

    # Количество принятых Timbrel сообщений
    receivedMessagesAmount: Union[uint32_t, int ]

    # Количество отправленных Timbrel сообщений
    sentMessagesAmount: Union[uint32_t, int ]

    # Количество потерянных сообщений из-за переполнения очереди
    lostMessagesAmount: Union[uint16_t, int ]

    # Количество сообщений некорректного размера согласно протоколу Timbrel
    tooBigMessagesAmount: Union[uint16_t, int ]

    # Количество ошибок при отправке
    sendingErrors: Union[uint16_t, int ]

    # Максимальное количество CAN фреймов в рамках одной отправки
    maxSlicedFramesLoad: Union[uint16_t, int ]

