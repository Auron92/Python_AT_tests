from dataclasses import dataclass, fields, field
from {{ self_import }}.basic_types import *
from stw_py_api_runtime.gen_classes.types.bits_base import BitsBase, BitsField

@dataclass
class {{ name }}(BitsBase):
    """{{ docstring }}"""

    {% for field in fields %}
    # {{ field.info }}
    {{ field.name }}: BitsField = field(default_factory=lambda: BitsField(size={{ field.size }}, value=0))
    {% endfor %}

    def __post_init__(self):
        self.base_type = {{ base_type }}()
        super()._cast_int_to_bits_field()
